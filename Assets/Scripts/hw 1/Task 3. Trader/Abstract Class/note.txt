Возможно, не совсем правильно понял смысл реализации через абстрактный класс, но попробовал сделать что-то вроде шаблонного метода